node_groups:
  worker-small-spot:
    instance_types: ["t3.small", "t3a.small"]
    desired_capacity: 0 # default 0 so it doesn't cost anything unless scaled up
    max_size: 2
    min_size: 0
    capacity_type: "SPOT"
    disk_size: 20
    labels:
      role: "small-spot-worker"
    # tags:
    #   environment: "dev"

  worker-small-on-demand:
    instance_types: ["t4g.small"]
    ami_type: "BOTTLEROCKET_ARM_64"
    desired_capacity: 1 # free tier eligible instance size, 1 node max
    max_size: 2
    min_size: 1
    capacity_type: "ON_DEMAND"
    disk_size: 20
    labels:
      role: "small-ondemand-worker"
    # tags:
    #   environment: "dev"
    #   k8s.io/cluster-autoscaler/enabled: "true"
